# Common Library
این پوشه کتابخانه‌ی مرکزی است که بین کلاینت و سرور به اشتراک گذاشته می‌شود.

## محتوا
- `protocol.go`: ساختار هدر ۸ بایتی (نوع، ترتیب، session_id) را تعریف کرده و بسته‌ها را سریال/دسریال می‌کند. همچنین تابعی برای تقسیم payload روی لیبل‌های DNS (حداکثر ۶۳) دارد.
- `crypto.go`: کمک‌کلاس `Cipher` که ChaCha20-Poly1305 را با PSK ۳۲ بایتی راه‌اندازی می‌کند و nonce تولید می‌کند.
- `encoding.go`: ماژول فشرده‌سازی zstd با دیکشنری ثابت اختیاری و توابع Base64 URL-safe.
- `router.go`: Radix tree با قابلیت بارگذاری CIDR از فایل و تطبیق سریع برای تشخیص ترافیک داخلی.

## استفاده
بقیه بسته‌ها فقط باید از این توابع برای رمزنگاری، فشرده‌سازی، تقسیم دامنه و مسیریابی استفاده کنند تا کد قابل کامپایل در gomobile/اندروید بماند.

قبل از اعمال تغییرات خطرناک، `go test ./...` را اجرا کنید تا ساختار پروژه هنوز سالم بماند (فقط بیلد فعلاً).
